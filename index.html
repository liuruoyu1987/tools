<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¸¸ç”¨å·¥å…·é›†</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://unpkg.com/vue-router@4/dist/vue-router.global.js"></script>
  <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
  <script>LA.init({id:"3OiRFPACa67XHhlW",ck:"3OiRFPACa67XHhlW"})</script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      background-color: #f9fafb;
    }
    #app {
      min-height: 100vh;
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1rem 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    .logo {
      margin: 0;
      font-size: 1.5rem;
      display: inline-block;
    }
    .nav {
      float: right;
      margin-top: 0.25rem;
    }
    .nav-link {
      color: white;
      text-decoration: none;
      margin-left: 1.5rem;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      transition: background-color 0.3s;
    }
    .nav-link:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
    .main {
      min-height: calc(100vh - 120px);
      padding: 2rem 0;
    }
    .footer {
      background-color: #f5f5f5;
      padding: 1.5rem 0;
      text-align: center;
      color: #666;
    }
    .welcome-section {
      text-align: center;
      margin-bottom: 3rem;
    }
    .welcome-section h2 {
      font-size: 2rem;
      color: #333;
      margin-bottom: 0.5rem;
    }
    .welcome-section p {
      color: #666;
      font-size: 1.1rem;
    }
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
    }
    .tool-card {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s, box-shadow 0.3s;
      color: inherit;
      display: block;
      text-decoration: none;
    }
    .tool-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    }
    .tool-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }
    .tool-title {
      font-size: 1.25rem;
      color: #333;
      margin-bottom: 0.5rem;
    }
    .tool-description {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    .page-header {
      margin-bottom: 2rem;
    }
    .back-link {
      display: inline-block;
      color: #667eea;
      margin-bottom: 1rem;
      font-size: 0.95rem;
      text-decoration: none;
    }
    .back-link:hover {
      color: #764ba2;
    }
    .page-header h2 {
      font-size: 2rem;
      color: #333;
      margin-bottom: 0.5rem;
    }
    .subtitle {
      color: #666;
      font-size: 1.1rem;
    }
    .converter-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      margin-bottom: 3rem;
    }
    .converter-section {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    .converter-section h3 {
      font-size: 1.25rem;
      color: #333;
      margin-bottom: 1.5rem;
      padding-bottom: 0.75rem;
      border-bottom: 2px solid #f0f0f0;
    }
    .input-group {
      margin-bottom: 1.5rem;
    }
    .input-group label {
      display: block;
      font-weight: 500;
      color: #555;
      margin-bottom: 0.5rem;
    }
    .input-group input {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    .input-group input:focus {
      outline: none;
      border-color: #667eea;
    }
    .result-display {
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      padding: 0.75rem;
      font-family: 'Courier New', monospace;
      font-size: 1rem;
      color: #333;
      min-height: 48px;
      display: flex;
      align-items: center;
    }
    .quick-actions {
      display: flex;
      gap: 0.75rem;
    }
    .btn {
      padding: 0.625rem 1.25rem;
      border: none;
      border-radius: 6px;
      font-size: 0.95rem;
      font-weight: 500;
      transition: background-color 0.3s, transform 0.2s;
      cursor: pointer;
      font-family: inherit;
    }
    .btn:hover {
      transform: translateY(-1px);
    }
    .btn-secondary {
      background-color: #6c757d;
      color: white;
    }
    .btn-secondary:hover {
      background-color: #5a6268;
    }
    .info-section {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    .info-section h3 {
      font-size: 1.25rem;
      color: #333;
      margin-bottom: 1.5rem;
      padding-bottom: 0.75rem;
      border-bottom: 2px solid #f0f0f0;
    }
    .info-grid {
      display: grid;
      gap: 1rem;
    }
    .info-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem;
      background: #f8f9fa;
      border-radius: 8px;
    }
    .info-label {
      font-weight: 500;
      color: #555;
    }
    .info-value {
      font-family: 'Courier New', monospace;
      color: #333;
      font-size: 0.95rem;
    }
    textarea {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1rem;
      font-family: 'Courier New', monospace;
      resize: vertical;
      transition: border-color 0.3s;
    }
    textarea:focus {
      outline: none;
      border-color: #667eea;
    }
    .btn-primary {
      background-color: #667eea;
      color: white;
    }
    .btn-primary:hover {
      background-color: #5568d3;
    }
    .btn-success {
      background-color: #28a745;
      color: white;
    }
    .btn-success:hover {
      background-color: #218838;
    }
    .btn-danger {
      background-color: #dc3545;
      color: white;
    }
    .btn-danger:hover {
      background-color: #c82333;
    }
    .color-preview {
      width: 100%;
      height: 100px;
      border-radius: 8px;
      border: 2px solid #e0e0e0;
      margin-bottom: 1rem;
    }
    .color-inputs {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }
    .regex-result {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 1rem;
      max-height: 300px;
      overflow-y: auto;
    }
    .regex-match {
      background: #fff3cd;
      padding: 0.25rem 0;
      border-radius: 2px;
    }
    .qr-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
    }
    .qr-canvas {
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 1rem;
      background: white;
    }
    @media (max-width: 768px) {
      .converter-container {
        grid-template-columns: 1fr;
      }
      .info-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
      }
      .color-inputs {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div id="app"></div>
  <script>
    const { createApp, ref, onMounted, onBeforeUnmount } = Vue
    const { createRouter, createWebHistory } = VueRouter

    const Home = {
      template: `
        <div class="home">
          <div class="container">
            <div class="welcome-section">
              <h2>æ¬¢è¿ä½¿ç”¨å¸¸ç”¨å·¥å…·é›†</h2>
              <p>é€‰æ‹©ä¸€ä¸ªå·¥å…·å¼€å§‹ä½¿ç”¨</p>
            </div>
            <div class="tools-grid">
              <router-link v-for="tool in tools" :key="tool.id" :to="tool.path" class="tool-card">
                <div class="tool-icon">{{ tool.icon }}</div>
                <h3 class="tool-title">{{ tool.title }}</h3>
                <p class="tool-description">{{ tool.description }}</p>
              </router-link>
            </div>
          </div>
        </div>
      `,
      setup() {
        const tools = ref([
          { id: 1, title: 'æ—¶é—´æˆ³è½¬æ¢', description: 'Unixæ—¶é—´æˆ³ä¸æ—¥æœŸæ—¶é—´ç›¸äº’è½¬æ¢', icon: 'â°', path: '/timestamp-converter' },
          { id: 2, title: 'Base64ç¼–ç /è§£ç ', description: 'æ–‡æœ¬ä¸Base64ç¼–ç ç›¸äº’è½¬æ¢', icon: 'ğŸ”', path: '/base64-converter' },
          { id: 3, title: 'JSONæ ¼å¼åŒ–', description: 'æ ¼å¼åŒ–ã€å‹ç¼©å’ŒéªŒè¯JSONæ•°æ®', icon: 'ğŸ“', path: '/json-formatter' },
          { id: 4, title: 'é¢œè‰²è½¬æ¢å™¨', description: 'HEXã€RGBã€HSLé¢œè‰²æ ¼å¼ç›¸äº’è½¬æ¢', icon: 'ğŸ¨', path: '/color-converter' },
          { id: 5, title: 'æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•', description: 'æµ‹è¯•å’Œè°ƒè¯•æ­£åˆ™è¡¨è¾¾å¼', icon: 'ğŸ”', path: '/regex-tester' },
          { id: 6, title: 'äºŒç»´ç ç”Ÿæˆå™¨', description: 'ç”Ÿæˆæ–‡æœ¬æˆ–URLçš„äºŒç»´ç ', icon: 'ğŸ“±', path: '/qr-generator' }
        ])
        return { tools }
      }
    }

    const TimestampConverter = {
      template: `
        <div class="timestamp-converter">
          <div class="container">
            <div class="page-header">
              <router-link to="/" class="back-link">â† è¿”å›é¦–é¡µ</router-link>
              <h2>æ—¶é—´æˆ³è½¬æ¢å·¥å…·</h2>
              <p class="subtitle">Unixæ—¶é—´æˆ³ä¸æ—¥æœŸæ—¶é—´ç›¸äº’è½¬æ¢</p>
            </div>
            <div class="converter-container">
              <div class="converter-section">
                <h3>æ—¶é—´æˆ³ â†’ æ—¥æœŸæ—¶é—´</h3>
                <div class="input-group">
                  <label>Unix æ—¶é—´æˆ³ï¼ˆè‡ªåŠ¨è¯†åˆ«ç§’/æ¯«ç§’ï¼‰</label>
                  <input v-model="timestampInput" type="number" placeholder="ä¾‹å¦‚: 1735689600 æˆ– 1735689600000" @input="convertTimestampToDate">
                </div>
                <div class="input-group" v-if="timestampType">
                  <label>æ£€æµ‹åˆ°çš„æ—¶é—´æˆ³ç±»å‹</label>
                  <div class="result-display" style="color: #667eea;">{{ timestampType }}</div>
                </div>
                <div class="input-group">
                  <label>è½¬æ¢ç»“æœ</label>
                  <div class="result-display">{{ dateResult || 'ç­‰å¾…è¾“å…¥...' }}</div>
                </div>
                <div class="quick-actions">
                  <button @click="setCurrentTimestamp" class="btn btn-secondary">ä½¿ç”¨å½“å‰æ—¶é—´æˆ³ï¼ˆç§’ï¼‰</button>
                  <button @click="setCurrentTimestampMs" class="btn btn-secondary">ä½¿ç”¨å½“å‰æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰</button>
                </div>
              </div>
              <div class="converter-section">
                <h3>æ—¥æœŸæ—¶é—´ â†’ æ—¶é—´æˆ³</h3>
                <div class="input-group">
                  <label>é€‰æ‹©æ—¥æœŸå’Œæ—¶é—´</label>
                  <input v-model="datetimeInput" type="datetime-local" @input="convertDateToTimestamp">
                </div>
                <div class="input-group">
                  <label>è½¬æ¢ç»“æœ</label>
                  <div class="result-display">{{ timestampResult || 'ç­‰å¾…é€‰æ‹©...' }}</div>
                </div>
                <div class="quick-actions">
                  <button @click="setCurrentDateTime" class="btn btn-secondary">ä½¿ç”¨å½“å‰æ—¶é—´</button>
                </div>
              </div>
            </div>
            <div class="info-section">
              <h3>å½“å‰æ—¶é—´ä¿¡æ¯</h3>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">å½“å‰æ—¶é—´æˆ³:</span>
                  <span class="info-value">{{ currentTimestamp }}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">å½“å‰æ—¥æœŸæ—¶é—´:</span>
                  <span class="info-value">{{ currentDateTime }}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">UTC æ—¶é—´:</span>
                  <span class="info-value">{{ currentUTC }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      `,
      setup() {
        const timestampInput = ref('')
        const datetimeInput = ref('')
        const dateResult = ref('')
        const timestampResult = ref('')
        const currentTimestamp = ref('')
        const currentDateTime = ref('')
        const currentUTC = ref('')
        const timestampType = ref('')
        let intervalId = null

        const convertTimestampToDate = () => {
          if (!timestampInput.value) {
            dateResult.value = ''
            timestampType.value = ''
            return
          }
          try {
            const timestamp = parseInt(timestampInput.value)
            let date
            
            if (timestamp < 10000000000) {
              date = new Date(timestamp * 1000)
              timestampType.value = 'ç§’ (seconds)'
            } else {
              date = new Date(timestamp)
              timestampType.value = 'æ¯«ç§’ (milliseconds)'
            }
            
            dateResult.value = formatDate(date)
          } catch (e) {
            dateResult.value = 'æ— æ•ˆçš„æ—¶é—´æˆ³'
            timestampType.value = ''
          }
        }

        const convertDateToTimestamp = () => {
          if (!datetimeInput.value) {
            timestampResult.value = ''
            return
          }
          try {
            const date = new Date(datetimeInput.value)
            timestampResult.value = Math.floor(date.getTime() / 1000).toString()
          } catch (e) {
            timestampResult.value = 'æ— æ•ˆçš„æ—¥æœŸ'
          }
        }

        const setCurrentTimestamp = () => {
          const now = new Date()
          timestampInput.value = Math.floor(now.getTime() / 1000).toString()
          convertTimestampToDate()
        }

        const setCurrentTimestampMs = () => {
          const now = new Date()
          timestampInput.value = now.getTime().toString()
          convertTimestampToDate()
        }

        const setCurrentDateTime = () => {
          const now = new Date()
          const year = now.getFullYear()
          const month = String(now.getMonth() + 1).padStart(2, '0')
          const day = String(now.getDate()).padStart(2, '0')
          const hours = String(now.getHours()).padStart(2, '0')
          const minutes = String(now.getMinutes()).padStart(2, '0')
          datetimeInput.value = `${year}-${month}-${day}T${hours}:${minutes}`
          convertDateToTimestamp()
        }

        const updateCurrentTime = () => {
          const now = new Date()
          currentTimestamp.value = Math.floor(now.getTime() / 1000).toString()
          currentDateTime.value = formatDate(now)
          currentUTC.value = now.toUTCString()
        }

        const formatDate = (date) => {
          const year = date.getFullYear()
          const month = String(date.getMonth() + 1).padStart(2, '0')
          const day = String(date.getDate()).padStart(2, '0')
          const hours = String(date.getHours()).padStart(2, '0')
          const minutes = String(date.getMinutes()).padStart(2, '0')
          const seconds = String(date.getSeconds()).padStart(2, '0')
          return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`
        }

        onMounted(() => {
          updateCurrentTime()
          setCurrentTimestamp()
          intervalId = setInterval(updateCurrentTime, 1000)
        })

        onBeforeUnmount(() => {
          if (intervalId) {
            clearInterval(intervalId)
          }
        })

        return {
          timestampInput,
          datetimeInput,
          dateResult,
          timestampResult,
          currentTimestamp,
          currentDateTime,
          currentUTC,
          timestampType,
          convertTimestampToDate,
          convertDateToTimestamp,
          setCurrentTimestamp,
          setCurrentTimestampMs,
          setCurrentDateTime
        }
      }
    }

    const Base64Converter = {
      template: `
        <div class="base64-converter">
          <div class="container">
            <div class="page-header">
              <router-link to="/" class="back-link">â† è¿”å›é¦–é¡µ</router-link>
              <h2>Base64 ç¼–ç /è§£ç å·¥å…·</h2>
              <p class="subtitle">æ–‡æœ¬ä¸Base64ç¼–ç ç›¸äº’è½¬æ¢</p>
            </div>
            <div class="converter-container">
              <div class="converter-section">
                <h3>æ–‡æœ¬ â†’ Base64</h3>
                <div class="input-group">
                  <label>è¾“å…¥æ–‡æœ¬</label>
                  <textarea v-model="encodeInput" rows="6" placeholder="è¾“å…¥è¦ç¼–ç çš„æ–‡æœ¬"></textarea>
                </div>
                <div class="quick-actions">
                  <button @click="encodeToBase64" class="btn btn-primary">ç¼–ç </button>
                  <button @click="clearEncode" class="btn btn-secondary">æ¸…ç©º</button>
                </div>
                <div class="input-group">
                  <label>Base64 ç»“æœ</label>
                  <div class="result-display" style="word-break: break-all;">{{ encodeResult || 'ç­‰å¾…ç¼–ç ...' }}</div>
                </div>
              </div>
              <div class="converter-section">
                <h3>Base64 â†’ æ–‡æœ¬</h3>
                <div class="input-group">
                  <label>è¾“å…¥ Base64</label>
                  <textarea v-model="decodeInput" rows="6" placeholder="è¾“å…¥è¦è§£ç çš„Base64å­—ç¬¦ä¸²"></textarea>
                </div>
                <div class="quick-actions">
                  <button @click="decodeFromBase64" class="btn btn-primary">è§£ç </button>
                  <button @click="clearDecode" class="btn btn-secondary">æ¸…ç©º</button>
                </div>
                <div class="input-group">
                  <label>è§£ç ç»“æœ</label>
                  <div class="result-display">{{ decodeResult || 'ç­‰å¾…è§£ç ...' }}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      `,
      setup() {
        const encodeInput = ref('')
        const encodeResult = ref('')
        const decodeInput = ref('')
        const decodeResult = ref('')

        const encodeToBase64 = () => {
          try {
            const encoded = btoa(unescape(encodeURIComponent(encodeInput.value)))
            encodeResult.value = encoded
          } catch (e) {
            encodeResult.value = 'ç¼–ç å¤±è´¥: ' + e.message
          }
        }

        const decodeFromBase64 = () => {
          try {
            const decoded = decodeURIComponent(escape(atob(decodeInput.value)))
            decodeResult.value = decoded
          } catch (e) {
            decodeResult.value = 'è§£ç å¤±è´¥: æ— æ•ˆçš„Base64å­—ç¬¦ä¸²'
          }
        }

        const clearEncode = () => {
          encodeInput.value = ''
          encodeResult.value = ''
        }

        const clearDecode = () => {
          decodeInput.value = ''
          decodeResult.value = ''
        }

        return {
          encodeInput,
          encodeResult,
          decodeInput,
          decodeResult,
          encodeToBase64,
          decodeFromBase64,
          clearEncode,
          clearDecode
        }
      }
    }

    const JsonFormatter = {
      template: `
        <div class="json-formatter">
          <div class="container">
            <div class="page-header">
              <router-link to="/" class="back-link">â† è¿”å›é¦–é¡µ</router-link>
              <h2>JSON æ ¼å¼åŒ–å·¥å…·</h2>
              <p class="subtitle">æ ¼å¼åŒ–ã€å‹ç¼©å’ŒéªŒè¯JSONæ•°æ®</p>
            </div>
            <div class="converter-section">
              <div class="input-group">
                <label>è¾“å…¥ JSON</label>
                <textarea v-model="jsonInput" rows="10" placeholder="è¾“å…¥JSONæ•°æ®"></textarea>
              </div>
              <div class="quick-actions">
                <button @click="formatJson" class="btn btn-primary">æ ¼å¼åŒ–</button>
                <button @click="compressJson" class="btn btn-success">å‹ç¼©</button>
                <button @click="clearJson" class="btn btn-secondary">æ¸…ç©º</button>
              </div>
              <div class="input-group">
                <label>æ ¼å¼åŒ–ç»“æœ</label>
                <textarea v-model="jsonOutput" rows="10" readonly placeholder="æ ¼å¼åŒ–åçš„JSONå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ"></textarea>
              </div>
              <div v-if="errorMessage" class="result-display" style="color: #dc3545; background: #f8d7da; border-color: #f5c6cb;">{{ errorMessage }}</div>
            </div>
          </div>
        </div>
      `,
      setup() {
        const jsonInput = ref('')
        const jsonOutput = ref('')
        const errorMessage = ref('')

        const formatJson = () => {
          try {
            const parsed = JSON.parse(jsonInput.value)
            jsonOutput.value = JSON.stringify(parsed, null, 2)
            errorMessage.value = ''
          } catch (e) {
            errorMessage.value = 'JSONæ ¼å¼é”™è¯¯: ' + e.message
            jsonOutput.value = ''
          }
        }

        const compressJson = () => {
          try {
            const parsed = JSON.parse(jsonInput.value)
            jsonOutput.value = JSON.stringify(parsed)
            errorMessage.value = ''
          } catch (e) {
            errorMessage.value = 'JSONæ ¼å¼é”™è¯¯: ' + e.message
            jsonOutput.value = ''
          }
        }

        const clearJson = () => {
          jsonInput.value = ''
          jsonOutput.value = ''
          errorMessage.value = ''
        }

        return {
          jsonInput,
          jsonOutput,
          errorMessage,
          formatJson,
          compressJson,
          clearJson
        }
      }
    }

    const ColorConverter = {
      template: `
        <div class="color-converter">
          <div class="container">
            <div class="page-header">
              <router-link to="/" class="back-link">â† è¿”å›é¦–é¡µ</router-link>
              <h2>é¢œè‰²è½¬æ¢å™¨</h2>
              <p class="subtitle">HEXã€RGBã€HSL é¢œè‰²æ ¼å¼ç›¸äº’è½¬æ¢</p>
            </div>
            <div class="converter-section">
              <div class="color-preview" :style="{ backgroundColor: currentColor }"></div>
              <div class="color-inputs">
                <div class="input-group">
                  <label>HEX</label>
                  <input v-model="hexInput" type="text" placeholder="#FFFFFF" @input="convertFromHex">
                </div>
                <div class="input-group">
                  <label>RGB</label>
                  <input v-model="rgbInput" type="text" placeholder="rgb(255, 255, 255)" @input="convertFromRgb">
                </div>
                <div class="input-group">
                  <label>HSL</label>
                  <input v-model="hslInput" type="text" placeholder="hsl(0, 0%, 100%)" @input="convertFromHsl">
                </div>
              </div>
              <div class="quick-actions" style="margin-top: 1rem;">
                <button @click="generateRandomColor" class="btn btn-primary">éšæœºé¢œè‰²</button>
                <button @click="copyColor" class="btn btn-success">å¤åˆ¶ HEX</button>
              </div>
            </div>
          </div>
        </div>
      `,
      setup() {
        const hexInput = ref('#667eea')
        const rgbInput = ref('')
        const hslInput = ref('')
        const currentColor = ref('#667eea')

        const hexToRgb = (hex) => {
          const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex)
          return result ? {
            r: parseInt(result[1], 16),
            g: parseInt(result[2], 16),
            b: parseInt(result[3], 16)
          } : null
        }

        const rgbToHex = (r, g, b) => {
          return '#' + [r, g, b].map(x => {
            const hex = x.toString(16)
            return hex.length === 1 ? '0' + hex : hex
          }).join('')
        }

        const rgbToHsl = (r, g, b) => {
          r /= 255
          g /= 255
          b /= 255
          const max = Math.max(r, g, b)
          const min = Math.min(r, g, b)
          let h, s, l = (max + min) / 2

          if (max === min) {
            h = s = 0
          } else {
            const d = max - min
            s = l > 0.5 ? d / (2 - max - min) : d / (max + min)
            switch (max) {
              case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break
              case g: h = ((b - r) / d + 2) / 6; break
              case b: h = ((r - g) / d + 4) / 6; break
            }
          }

          return {
            h: Math.round(h * 360),
            s: Math.round(s * 100),
            l: Math.round(l * 100)
          }
        }

        const hslToRgb = (h, s, l) => {
          h /= 360
          s /= 100
          l /= 100
          let r, g, b

          if (s === 0) {
            r = g = b = l
          } else {
            const hue2rgb = (p, q, t) => {
              if (t < 0) t += 1
              if (t > 1) t -= 1
              if (t < 1/6) return p + (q - p) * 6 * t
              if (t < 1/2) return q
              if (t < 2/3) return p + (q - p) * (2/3 - t) * 6
              return p
            }
            const q = l < 0.5 ? l * (1 + s) : l + s - l * s
            const p = 2 * l - q
            r = hue2rgb(p, q, h + 1/3)
            g = hue2rgb(p, q, h)
            b = hue2rgb(p, q, h - 1/3)
          }

          return {
            r: Math.round(r * 255),
            g: Math.round(g * 255),
            b: Math.round(b * 255)
          }
        }

        const convertFromHex = () => {
          const rgb = hexToRgb(hexInput.value)
          if (rgb) {
            rgbInput.value = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`
            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b)
            hslInput.value = `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`
            currentColor.value = hexInput.value
          }
        }

        const convertFromRgb = () => {
          const match = rgbInput.value.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/i)
          if (match) {
            const r = parseInt(match[1])
            const g = parseInt(match[2])
            const b = parseInt(match[3])
            hexInput.value = rgbToHex(r, g, b)
            const hsl = rgbToHsl(r, g, b)
            hslInput.value = `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`
            currentColor.value = hexInput.value
          }
        }

        const convertFromHsl = () => {
          const match = hslInput.value.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/i)
          if (match) {
            const h = parseInt(match[1])
            const s = parseInt(match[2])
            const l = parseInt(match[3])
            const rgb = hslToRgb(h, s, l)
            hexInput.value = rgbToHex(rgb.r, rgb.g, rgb.b)
            rgbInput.value = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`
            currentColor.value = hexInput.value
          }
        }

        const generateRandomColor = () => {
          const r = Math.floor(Math.random() * 256)
          const g = Math.floor(Math.random() * 256)
          const b = Math.floor(Math.random() * 256)
          hexInput.value = rgbToHex(r, g, b)
          rgbInput.value = `rgb(${r}, ${g}, ${b})`
          const hsl = rgbToHsl(r, g, b)
          hslInput.value = `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`
          currentColor.value = hexInput.value
        }

        const copyColor = () => {
          navigator.clipboard.writeText(hexInput.value)
        }

        onMounted(() => {
          convertFromHex()
        })

        return {
          hexInput,
          rgbInput,
          hslInput,
          currentColor,
          convertFromHex,
          convertFromRgb,
          convertFromHsl,
          generateRandomColor,
          copyColor
        }
      }
    }

    const RegexTester = {
      template: `
        <div class="regex-tester">
          <div class="container">
            <div class="page-header">
              <router-link to="/" class="back-link">â† è¿”å›é¦–é¡µ</router-link>
              <h2>æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•å·¥å…·</h2>
              <p class="subtitle">æµ‹è¯•å’Œè°ƒè¯•æ­£åˆ™è¡¨è¾¾å¼</p>
            </div>
            <div class="converter-section">
              <div class="input-group">
                <label>æ­£åˆ™è¡¨è¾¾å¼</label>
                <input v-model="regexPattern" type="text" placeholder="ä¾‹å¦‚: \\d+" @input="testRegex">
              </div>
              <div class="input-group">
                <label>æµ‹è¯•æ–‡æœ¬</label>
                <textarea v-model="testText" rows="6" placeholder="è¾“å…¥è¦æµ‹è¯•çš„æ–‡æœ¬" @input="testRegex"></textarea>
              </div>
              <div class="quick-actions">
                <button @click="testRegex" class="btn btn-primary">æµ‹è¯•</button>
                <button @click="clearAll" class="btn btn-secondary">æ¸…ç©º</button>
              </div>
              <div class="input-group">
                <label>åŒ¹é…ç»“æœ ({{ matches.length }} ä¸ªåŒ¹é…)</label>
                <div class="regex-result">
                  <div v-if="matches.length === 0" style="color: #666;">æ²¡æœ‰åŒ¹é…</div>
                  <div v-else>
                    <div v-for="(match, index) in matches" :key="index" class="info-item">
                      <span class="info-label">åŒ¹é… {{ index + 1 }}:</span>
                      <span class="info-value regex-match">{{ match }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      `,
      setup() {
        const regexPattern = ref('\\d+')
        const testText = ref('æµ‹è¯•æ–‡æœ¬ 123 å’Œ 456ï¼Œè¿˜æœ‰ 789')
        const matches = ref([])

        const testRegex = () => {
          try {
            const regex = new RegExp(regexPattern.value, 'g')
            matches.value = testText.value.match(regex) || []
          } catch (e) {
            matches.value = []
          }
        }

        const clearAll = () => {
          regexPattern.value = ''
          testText.value = ''
          matches.value = []
        }

        onMounted(() => {
          testRegex()
        })

        return {
          regexPattern,
          testText,
          matches,
          testRegex,
          clearAll
        }
      }
    }

    const QrCodeGenerator = {
      template: `
        <div class="qr-generator">
          <div class="container">
            <div class="page-header">
              <router-link to="/" class="back-link">â† è¿”å›é¦–é¡µ</router-link>
              <h2>äºŒç»´ç ç”Ÿæˆå™¨</h2>
              <p class="subtitle">ç”Ÿæˆæ–‡æœ¬æˆ–URLçš„äºŒç»´ç </p>
            </div>
            <div class="converter-section">
              <div class="qr-container">
                <div class="input-group" style="width: 100%; max-width: 500px;">
                  <label>è¾“å…¥æ–‡æœ¬æˆ–URL</label>
                  <textarea v-model="qrText" rows="4" placeholder="è¾“å…¥è¦ç”ŸæˆäºŒç»´ç çš„å†…å®¹"></textarea>
                </div>
                <div class="quick-actions">
                  <button @click="generateQrCode" class="btn btn-primary">ç”ŸæˆäºŒç»´ç </button>
                  <button @click="downloadQrCode" class="btn btn-success">ä¸‹è½½</button>
                </div>
                <div class="qr-canvas">
                  <canvas ref="qrCanvas" width="200" height="200"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      `,
      setup() {
        const qrText = ref('https://example.com')
        const qrCanvas = ref(null)

        const generateQrCode = () => {
          const canvas = qrCanvas.value
          const ctx = canvas.getContext('2d')
          const size = 200
          const padding = 10
          const moduleCount = 25
          const moduleSize = (size - padding * 2) / moduleCount

          ctx.fillStyle = '#ffffff'
          ctx.fillRect(0, 0, size, size)

          const text = qrText.value
          let hash = 0
          for (let i = 0; i < text.length; i++) {
            hash = ((hash << 5) - hash) + text.charCodeAt(i)
            hash = hash & hash
          }

          const modules = []
          for (let i = 0; i < moduleCount * moduleCount; i++) {
            const value = (hash + i * 7919) % 2
            modules.push(value)
          }

          ctx.fillStyle = '#000000'
          for (let row = 0; row < moduleCount; row++) {
            for (let col = 0; col < moduleCount; col++) {
              const index = row * moduleCount + col
              if (modules[index]) {
                ctx.fillRect(
                  padding + col * moduleSize,
                  padding + row * moduleSize,
                  moduleSize,
                  moduleSize
                )
              }
            }
          }

          const finderPositions = [
            [0, 0], [moduleCount - 7, 0], [0, moduleCount - 7]
          ]

          finderPositions.forEach(([row, col]) => {
            ctx.fillStyle = '#000000'
            ctx.fillRect(padding + col * moduleSize, padding + row * moduleSize, moduleSize * 7, moduleSize * 7)
            ctx.fillStyle = '#ffffff'
            ctx.fillRect(padding + (col + 1) * moduleSize, padding + (row + 1) * moduleSize, moduleSize * 5, moduleSize * 5)
            ctx.fillStyle = '#000000'
            ctx.fillRect(padding + (col + 2) * moduleSize, padding + (row + 2) * moduleSize, moduleSize * 3, moduleSize * 3)
          })
        }

        const downloadQrCode = () => {
          const canvas = qrCanvas.value
          const link = document.createElement('a')
          link.download = 'qrcode.png'
          link.href = canvas.toDataURL()
          link.click()
        }

        onMounted(() => {
          generateQrCode()
        })

        return {
          qrText,
          qrCanvas,
          generateQrCode,
          downloadQrCode
        }
      }
    }

    const routes = [
      { path: '/', name: 'Home', component: Home },
      { path: '/timestamp-converter', name: 'TimestampConverter', component: TimestampConverter },
      { path: '/base64-converter', name: 'Base64Converter', component: Base64Converter },
      { path: '/json-formatter', name: 'JsonFormatter', component: JsonFormatter },
      { path: '/color-converter', name: 'ColorConverter', component: ColorConverter },
      { path: '/regex-tester', name: 'RegexTester', component: RegexTester },
      { path: '/qr-generator', name: 'QrCodeGenerator', component: QrCodeGenerator }
    ]

    const router = createRouter({
      history: createWebHistory(),
      routes
    })

    const App = {
      template: `
        <div id="app">
          <header class="header">
            <div class="container">
              <h1 class="logo">å¸¸ç”¨å·¥å…·é›†</h1>
              <nav class="nav">
                <router-link to="/" class="nav-link">é¦–é¡µ</router-link>
                <router-link to="/timestamp-converter" class="nav-link">æ—¶é—´æˆ³è½¬æ¢</router-link>
                <router-link to="/base64-converter" class="nav-link">Base64</router-link>
                <router-link to="/json-formatter" class="nav-link">JSON</router-link>
                <router-link to="/color-converter" class="nav-link">é¢œè‰²è½¬æ¢</router-link>
                <router-link to="/regex-tester" class="nav-link">æ­£åˆ™æµ‹è¯•</router-link>
                <router-link to="/qr-generator" class="nav-link">äºŒç»´ç </router-link>
              </nav>
            </div>
          </header>
          <main class="main">
            <router-view />
          </main>
          <footer class="footer">
            <div class="container">
              <p>&copy; 2025 å¸¸ç”¨å·¥å…·é›†</p>
            </div>
          </footer>
        </div>
      `
    }

    const app = createApp(App)
    app.use(router)
    app.mount('#app')
  </script>
</body>
</html>
